<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <!-- these three tags should prevent the browser from caching the website, from https://stackoverflow.com/a/16717034 (because we update data pretty frequently) -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-tooltip"></script>
</body>

<head>
    <label for="data_select">Data: </label>
    <select name="data_select" id="data_select">
        <option value="type">Did I cook?</option>
        <option value="main dish cuisine">Main dish cuisine</option>
        <option value="protein">What was meal's main protein?</option>
        <option value="vegetarian">Was meal vegetarian?</option>
        <option value="alcohol">Alcohol?</option>
        <option value="main dish source">Recipe source</option>
    </select>
    <div id="vis"></div>
    <script>
     const spec = "calendar.vg.json";
     // register some custom color schemes
     vega.scheme('alcohol', ["#bcbcbc", "#eccd13", "#920000"])
     vega.scheme('vegetarian', ["#2ca02c", "#98df8a","#377eb8", "#e41a1c"])
     vega.scheme('protein', ["#bcbcbc", "#d9bd8e", "#f99361", "#784631", "#f4ca21", "#e41a1c"])
     vega.scheme('type', ["#992226", "#539dba", "#c97424", "#9da706", "#dec31a"])
     vegaEmbed("#vis", spec, {loader : {'target': '_blank'}})
     // result.view provides access to the Vega View API
         .then(result => console.log(result)) ;
    </script>
</body>
