<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <!-- these three tags should prevent the browser from caching the website, from https://stackoverflow.com/a/16717034 (because we update data pretty frequently) -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-tooltip"></script>
</body>

<style>
 #select_container {
     /* set this so that this always ends up above the #vis element */
     display: block;
     margin-bottom: 10px;
 }
</style>

<head>
    <p>What have Billy's dinners been like?</p>
    <div id='select_container'>
    <label for="data_select">Data: </label>
    <select name="data_select" id="data_select">
        <option value="type">Did I cook?</option>
        <option value="protein">What was meal's main protein?</option>
        <option value="vegetarian">Was meal vegetarian / vegan?</option>
        <option value="alcohol">Alcohol with meal?</option>
        <option value="main dish source">Recipe source(s)</option>
        <option value="main dish cuisine">Dish cuisine(s)</option>
        <option value="main dish type">Dish type(s)</option>
    </select>
    </div>
    <div id="vis"></div>
    <script>
     const spec = "calendar.vg.json";
     // register some custom color schemes
     vega.scheme('alcohol', ["#bcbcbc", "#eccd13", "#920000"])
     vega.scheme('vegetarian', ["#2ca02c", "#98df8a","#377eb8", "#e41a1c"])
     vega.scheme('protein', ["#bcbcbc", "#d9bd8e", "#f99361", "#784631", "#f4ca21", "#e41a1c"])
     vega.scheme('type', ["#992226", "#539dba", "#c97424", "#9da706", "#dec31a"])
     // in order these are: blues, reds, oranges, greens, purples, grays. based
     // off category20c, but then extended. corresponds to continents, roughly

     // look into, for colors:
     // http://vrl.cs.brown.edu/color
     // https://paletton.com/#uid=c5a2Z593F0kRlxYaFw0g0qFqFg0w0aF
     // https://medialab.github.io/iwanthue/
     // https://gka.github.io/palettes/#/9|d|00429d,96ffea,d9d9d9|ffffe0,ff005e,93003a|1|1
     // https://github.com/d3/d3-3.x-api-reference/blob/master/Ordinal-Scales.md#categorical-colors
     vega.scheme('cuisines', ["#08519c", "#3182bd", "#6baed6", "#bdd7e7", "#eff3ff",
                              "#843c39", "#ad494a",  "#d6616b", // "#e7969c"
                              "#e6550d", // "#fd8d3c", "#fdae6b", "#fdd0a2",
                              "#31a354", "#74c476", // "#a1d99b", "#c7e9c0",
                              "#756bb1", "#9e9ac8", // "#bcbddc", "#dadaeb",
                              "#636363", "#969696", // "#bdbdbd", "#d9d9d9",
                              ])
     vegaEmbed("#vis", spec, {loader : {'target': '_blank'}})
     // result.view provides access to the Vega View API
         .then(result => console.log(result)) ;
    </script>
</body>
